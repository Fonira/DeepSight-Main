(()=>{"use strict";const e="https://www.deepsightsynthesis.com";window.addEventListener("message",async s=>{if(s.origin!==new URL(e).origin)return;const{type:t,payload:n}=s.data||{};if("DEEPSIGHT_AUTH_SUCCESS"===t)try{const s=await chrome.runtime.sendMessage({action:"SYNC_AUTH_FROM_WEBSITE",data:n});s?.success&&window.postMessage({type:"DEEPSIGHT_EXTENSION_AUTH_SYNCED"},e)}catch(e){console.error("[DeepSight Extension] Failed to sync auth:",e)}})})();