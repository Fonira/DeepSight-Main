# ==============================================================================
# Deep Sight Backend — Environment Variables
# Copy to .env and fill in your values
# ==============================================================================

# --- Environment ---
ENV=development                          # development | production
# RAILWAY_ENVIRONMENT=                   # Set automatically by Railway
APP_URL=http://localhost:8000
FRONTEND_URL=http://localhost:5173
# CUSTOM_DOMAIN=
# DATABASE_PATH=./data                   # Override data directory

# --- Database ---
# DATABASE_URL=                          # PostgreSQL: postgresql+asyncpg://user:pass@host:5432/dbname
                                         # Leave empty for local SQLite
# SQL_ECHO=false
# DB_POOL_SIZE=20
# DB_MAX_OVERFLOW=10

# --- Admin (REQUIRED in production) ---
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=                          # REQUIRED — no default in production
ADMIN_SECRET_KEY=                        # REQUIRED — min 32 chars in production

# --- JWT ---
# JWT_SECRET_KEY=                        # Falls back to ADMIN_SECRET_KEY if empty

# --- AI API Keys ---
MISTRAL_API_KEY=                         # REQUIRED — core analysis engine
# SUPADATA_API_KEY=                      # Optional — transcript extraction backup
# PERPLEXITY_API_KEY=                    # Optional — web search / fact-checking
# BRAVE_SEARCH_API_KEY=                  # Optional — complementary fact-checking
# OPENAI_API_KEY=                        # Optional — GPT-4 for Pro/Expert plans

# --- Audio Transcription ---
# GROQ_API_KEY=                          # Optional — Groq Whisper
# DEEPGRAM_API_KEY=                      # Optional — Deepgram Nova-2
# ASSEMBLYAI_API_KEY=                    # Optional — AssemblyAI

# --- Academic ---
# SEMANTIC_SCHOLAR_API_KEY=              # Optional — Semantic Scholar API

# --- Email (Resend) ---
EMAIL_ENABLED=true
RESEND_API_KEY=re_xxxxxxxxxxxx          # Required — get key at https://resend.com
FROM_EMAIL=noreply@deepsightsynthesis.com
FROM_NAME=DeepSight

# --- Stripe Billing ---
STRIPE_ENABLED=true
STRIPE_TEST_MODE=false                   # FORBIDDEN in production
# STRIPE_SECRET_KEY_TEST=sk_test_...
# STRIPE_SECRET_KEY_LIVE=sk_live_...
# STRIPE_PUBLISHABLE_KEY_TEST=pk_test_...
# STRIPE_PUBLISHABLE_KEY_LIVE=pk_live_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs
# STRIPE_PRICE_STARTER_TEST=
# STRIPE_PRICE_STARTER_LIVE=
# STRIPE_PRICE_PRO_TEST=
# STRIPE_PRICE_PRO_LIVE=
# STRIPE_PRICE_EXPERT_TEST=
# STRIPE_PRICE_EXPERT_LIVE=

# --- Google OAuth ---
GOOGLE_OAUTH_ENABLED=false
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GOOGLE_REDIRECT_URI=                   # Defaults to {APP_URL}/api/auth/google/callback

# --- Monitoring ---
# SENTRY_DSN=
# LOG_LEVEL=INFO
# LOG_FORMAT=json
# VERBOSE_LOGGING=false

# --- Cache & Queues ---
# REDIS_URL=redis://localhost:6379/0
# CACHE_MAX_SIZE=10000

# --- TTS ---
# TTS_PROVIDER=openai
# ELEVENLABS_API_KEY=

# --- Legal ---
# LEGAL_OWNER_NAME=
# LEGAL_SIRET=
# LEGAL_RCS=
# LEGAL_CITY=
# LEGAL_ADDRESS=
# LEGAL_EMAIL=contact@deepsight.fr

# --- Backup / S3 ---
# AWS_ACCESS_KEY_ID=                     # Required for S3 backups
# AWS_SECRET_ACCESS_KEY=                 # Required for S3 backups
# AWS_REGION=eu-west-3
# BACKUP_S3_BUCKET=deepsight-backups
# BACKUP_S3_PREFIX=db-backups/
# BACKUP_CRON_HOUR=3                     # Daily backup at 3:00 UTC
# BACKUP_CRON_MINUTE=0
# BACKUP_RETENTION_DAYS=30               # Delete S3 backups older than N days

# --- Misc ---
# PORT=8000
# ALLOWED_ORIGINS=                       # Comma-separated URLs
# YTDLP_COOKIES_PATH=
